# 14.1 属性的特性

JavaScript 的属性有名字和值，但每个属性也有 3 个关联的特性，用于指定属性的行为以及你可以对它执行什么操作。

* 可写（writable）特性指定是否可以修改属性的值
* 可枚举（enumerable）特性指定是否可以通过 for/in 循环和 Object.keys() 方法枚举属性
* 可配置（configurable）特性指定是否可以删除属性，以及是否可以修改属性的特性



## Object.getOwnPropertyDescriptor()

**`要获得特定对象某个属性的属性描述符，可以调用 Object.getOwnPropertyDescriptor()`**：

```                                                                                                                                                                                                       javascript
Object.getOwnPropertyDescriptor({ x: 1 }, "x"); // { value: 1, writable: true, enumerable: true, configurable: true }

const random = {
    get octet() { return Math.floor(Math.random() * 256) }
};

Object.getOwnPropertyDescriptor(random, "octet"); // { get: /*func*/, set: undefined, enumerable: true, configurable: true }

// 对继承的属性或不存在的属性返回 undefined
Object.getOwnPropertyDescriptor({}, "x"); // undefined
Object.getOwnPropertyDescriptor({}, "toString"); // undefined
```



## Object.getOwnProperty()

```javascript
let o = {};

Object.defineProperty(o, "x", {
    value: 1,
    writable: true,
    enumerable: false,
    configurable: true
});

// 确认已经有了这个属性，而且不可枚举
o.x // 1
Object.keys(o); // []

// 现在，修改属性 x，把它设置为只读
Object.defineProperty(o, "x", { writable: false });

// 试着修改这个属性的值
o.x = 2; // 静默失败或在严格模式下抛出 TypeError
o.x; // 1

// 这个属性依然是可以配置的，因此可以像这样修改它的值
Object.defineProperty(o, "x", { value: 2 });
o.x // 2

// 把 x 由数据属性修改为访问器属性
Object.defineProperty(o, "x", { get: function() { return 0; } });
o.x // 0
```



## Object.getOwnProperties()

```javascript
let p = Object.defineProperties({}, {
    x: { value: 1, writable: true, enumerable: true, configurable: true },
    y: { value: 1, writable: true, enumerable: true, configurable: true },
    r: {
        get() { return Math.sqrt(this.x * this.x + this.y * this.y); },
        enumerable: true,
        configurable: true
    }
});

p.r // => Math.SQRT2
```


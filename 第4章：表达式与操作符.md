# 4.7 操作符概述



| 操作符                                                    | 操作                         | 结合性 | 操作数 | 类型                 |
| --------------------------------------------------------- | ---------------------------- | ------ | ------ | -------------------- |
| ++                                                        | 先或后递增                   | 右     | 1      | 1val → num           |
| --                                                        | 先或后递减                   | 右     | 1      | 1val → num           |
| -                                                         | 负值                         | 右     | 1      | num → num            |
| +                                                         | 转换为数值                   | 右     | 1      | any → num            |
| ~                                                         | 反转二进制位                 | 右     | 1      | int → int            |
| !                                                         | 反转布尔值                   | 右     | 1      | bool → bool          |
| delete                                                    | 删除属性                     | 右     | 1      | 1val → bool          |
| typeof                                                    | 确定操作数类型               | 右     | 1      | any → str            |
| void                                                      | 返回 undefined               | 右     | 1      | any → undefined      |
| **                                                        | 幂                           | 右     | 2      | num，num → num       |
| *、/、%                                                   | 乘、除、取余                 | 左     | 2      | num，num → num       |
| +、-                                                      | 加、减                       | 左     | 2      | num，num → num       |
| +                                                         | 拼接字符串                   | 左     | 2      | str，str → str       |
| <<                                                        | 左移位                       | 左     | 2      | int，int → int       |
| >>                                                        | 右移位以符号填充             | 左     | 2      | int，int → int       |
| >>>                                                       | 右移位以零填充               | 左     | 2      | int，int → int       |
| <、<=、>、>=                                              | 按数值顺序比较               | 左     | 2      | num，num → bool      |
| <、<=、>、>=                                              | 按字母表顺序比较             | 左     | 2      | str，str → bool      |
| instanceof                                                | 测试对象类                   | 左     | 2      | obj，func → bool     |
| in                                                        | 测试属性是否存在             | 左     | 2      | any，obj → bool      |
| ==                                                        | 非严格相等测试               | 左     | 2      | any，any → bool      |
| !=                                                        | 非严格不相等测试             | 左     | 2      | any，any → bool      |
| ===                                                       | 严格相等测试                 | 左     | 2      | any，any → bool      |
| !==                                                       | 严格不相等测试               | 左     | 2      | any，any → bool      |
| &                                                         | 计算按位与                   | 左     | 2      | int，int → int       |
| ^                                                         | 计算按位异或                 | 左     | 2      | int，int → int       |
| \|                                                        | 计算按位或                   | 左     | 2      | int，int → int       |
| &&                                                        | 计算逻辑与                   | 左     | 2      | any，any → any       |
| \|\|                                                      | 计算逻辑或                   | 左     | 2      | any，any → any       |
| ??                                                        | 选择第一个有定义的操作数     | 左     | 2      | any，any → any       |
| ?:                                                        | 选择第二或第三个操作数       | 右     | 3      | bool，any，any → any |
| =                                                         | 为变量或属性赋值             | 右     | 2      | 1val，any → any      |
| **`**=、*=、/=、%=、+=、-=、&=、^=、|=、<<=、>>=、>>>=`** | 操作并赋值                   | 右     | 2      | 1val，any → any      |
| ,                                                         | 丢弃第一个操作数，返回第二个 | 左     | 2      | any，any → any       |



## 1. 操作数个数

**`操作符可以按照它们期待的操作数个数（参数数量）来分类。多数 JavaScript 操作符（如乘法操作符 * ）都是二元操作符，可以将两个表达式组合成一个更复杂的表达式。换句话说，这些操作符期待两个操作数。JavaScript 也支持一些一元操作符，这些操作符将一个表达式转换为另一个更复杂的表达式。表达式 -x 中的操作符 - 就是一元操作符，用于对操作数 x 进行求负值操作。最后，JavaScript 也支持一个三元操作符，即条件操作符 ?:，用于将三个表达式组合为一个表达式。`**                                     





# 4.8 算术表达式

 

## 1. + 操作符

**`二元 + 操作符用于计算数值操作操作数的和或者拼接字符串操作数：`** 

```javascript
1 + 2; // 3
"hello" + " " + "there"; // "hello there"
"1" + "2"; // "12"
```



**`严格来讲，+ 操作符的行为如下所示。`** 

* **`如果有一个操作是对象，则 + 操作符使用 3.9.3 节介绍的对象到原始值的算法把该操作数转换为原始值。Date 对象用 toString() 方法来转换，其他所有对象通过 valueOf() 转换（如果这个方法返回原始值）。不过，多数对象并没有 valueOf() 方法，因此它们也会通过 toString() 方法转换。`** 
* **`完成对象到原始值的转换后，如果有操作数是字符串，另一个操作数也会被转换为字符串并进行拼接。`** 
* **`否则，两个操作数都被转换为数值（或 NaN），计算加法。`**                                               

下面是几个例子：

```javascript
1 + 2; // 3
"1" + "2"; // "12"
"1" + 2; // "12"                                                      
1 + {}; // "1[object Object]"
true + true; // 2
2 + null; // 2
2 + undefined; // NaN
```



**`最后，很重要的一点是要注意 + 操作符在用于字符串和数值时，可能不遵守结合性。换句话说，结果取决于操作执行的顺序。`** 

**`例如：`** 

```javascript
1 + 2 + "blind mice"; // "3 blind mice"
1 + (2 + "blind mice"); // "12 blind mice"
```

**`第一行没有圆括号，+ 操作符表现出左结合性，即两个数值先相加，然后它们的和再与字符串拼接。第二行中的圆括号改变了操作执行的顺序：数值 2 先于字符串拼接产生一个新字符串，然后数值 1 再与新字符串拼接得到最终结果。`** 
